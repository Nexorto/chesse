<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçî Juego Memoria Hamburguesas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .score {
            font-size: 14px;
            opacity: 0.9;
        }

        .burger-name {
            font-weight: bold;
            margin-top: 5px;
            font-size: 16px;
        }

        .status {
            margin: 15px;
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid;
        }

        .status.correct {
            background: #f0f9ff;
            border-color: #10b981;
            color: #065f46;
        }

        .status.wrong {
            background: #fef2f2;
            border-color: #ef4444;
            color: #991b1b;
        }

        .status-icon {
            font-size: 20px;
            margin-right: 8px;
        }

        .burger-construction {
            padding: 20px;
        }

        .construction-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            color: #374151;
        }

        .construction-area {
            background: #f9fafb;
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 15px;
            min-height: 120px;
        }

        .empty-construction {
            text-align: center;
            color: #6b7280;
            padding-top: 30px;
            font-size: 14px;
        }

        .ingredient-button {
            width: 100%;
            padding: 12px 16px;
            margin: 6px 0;
            border: 2px solid;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .ingredient-button:active {
            transform: scale(0.95);
        }

        .ingredient-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .ingredient-button:disabled:active {
            transform: none;
        }

        /* Colores para ingredientes */
        .pan { background: #fef3c7; color: #92400e; border-color: #f59e0b; }
        .queso { background: #fde68a; color: #78350f; border-color: #f59e0b; }
        .carne { background: #dc2626; color: white; border-color: #b91c1c; }
        .lechuga { background: #86efac; color: #166534; border-color: #22c55e; }
        .tomate { background: #fca5a5; color: #991b1b; border-color: #ef4444; }
        .tocino { background: #fb923c; color: white; border-color: #ea580c; }
        .pepinillos { background: #16a34a; color: white; border-color: #15803d; }
        .cebolla { background: #c4b5fd; color: #5b21b6; border-color: #8b5cf6; }
        .mayo { background: #f3f4f6; color: #374151; border-color: #d1d5db; }
        .ketchup { background: #ef4444; color: white; border-color: #dc2626; }
        .mostaza { background: #eab308; color: #713f12; border-color: #ca8a04; }
        .salsa { background: #3b82f6; color: white; border-color: #2563eb; }

        .ingredients-section {
            padding: 20px;
        }

        .ingredients-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #374151;
        }

        .controls {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .control-button {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .control-button:active {
            transform: scale(0.95);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .control-button:disabled:active {
            transform: none;
        }

        .reset-button {
            background: #6b7280;
            color: white;
        }

        .reset-button:hover:not(:disabled) {
            background: #4b5563;
        }

        .new-game-button {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: white;
        }

        .instructions {
            background: #f9fafb;
            padding: 15px;
            font-size: 12px;
            color: #6b7280;
        }

        .instructions h4 {
            font-weight: bold;
            margin-bottom: 8px;
        }

        .instructions ul {
            list-style: none;
        }

        .instructions li {
            margin: 4px 0;
        }

        @media (max-width: 480px) {
            .container {
                margin: 5px;
                border-radius: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üçî Memoria Burger</h1>
            <div class="score">
                <div>Puntaje: <span id="score">0</span>/<span id="attempts">0</span></div>
                <div class="burger-name" id="currentBurger">Cargando...</div>
            </div>
        </div>

        <!-- Game Status -->
        <div id="gameStatus" style="display: none;"></div>

        <!-- Burger Construction -->
        <div class="burger-construction">
            <h3 class="construction-title">Tu hamburguesa:</h3>
            <div class="construction-area" id="constructionArea">
                <p class="empty-construction">Toca los ingredientes para agregar</p>
            </div>
        </div>

        <!-- Available Ingredients -->
        <div class="ingredients-section">
            <h3 class="ingredients-title">Ingredientes:</h3>
            <div id="availableIngredients"></div>
        </div>

        <!-- Control Buttons -->
        <div class="controls">
            <button class="control-button reset-button" id="resetButton">
                üîÑ Reintentar esta hamburguesa
            </button>
            <button class="control-button new-game-button" id="newGameButton">
                üé≤ Nueva hamburguesa
            </button>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <h4>üì± C√≥mo jugar:</h4>
            <ul>
                <li>‚Ä¢ Toca ingredientes para agregar (orden de arriba a abajo)</li>
                <li>‚Ä¢ Toca ingredientes ya colocados para quitar</li>
                <li>‚Ä¢ Recuerda: arriba del queso = tapa, abajo de carne = base</li>
            </ul>
        </div>
    </div>

    <script>
        class BurgerGame {
            constructor() {
                this.burgers = {
                    "Cheese Burguer": ["Pan", "Queso Carne", "Queso", "Pan"],
                    "Cuarto de libra": ["KetChup", "Mostaza", "Pepinillos", "Queso", "Carne", "Cebolla Cuadritos", "Mostaza", "Ketchup"],
                    "Jalape√±o": ["Salsa Mil islas", "Jalape√±o", "Queso", "Carne", "Cebolla Crispy", "Salsa Mil Islas"],
                    "Bacon Bacon": ["KetChup", "Tocino", "Queso", "Carne", "Mayo"],
                    "Big pipe": ["salsa big pipe", "pepinillos", "Queso", "Carne", "Lechuga", "Cebolla Cuadritos", "salsa big pipe"],
                    "Oklahoma": ["salsa mil islas", "Queso", "Carne", "Cebolla Fina", "salsa mil islas"],
                    "American cheese": ["Ketchup", "Pepinillos", "Cebolla en Aros", "Queso", "Carne", "Tomate", "Lechuga", "Mayonesa"],
                    "Bacon jam": ["salsa alioli", "mermelada de tocino", "Queso", "Carne", "alioli"],
                    "Manhattan": ["salsa mil islas", "cebolla grillada", "Queso", "Carne", "Pepinillos", "salsa mil islas"],
                    "Spicy": ["salsa spicy", "Tocino", "Queso", "Carne", "cebolla en cuadritos", "salsa spicy"],
                    "Tocino bbq": ["salsa bbq", "Tocino", "Queso", "Carne", "cebolla caramelizada", "salsa bbq"]
                };

                this.currentBurger = '';
                this.correctOrder = [];
                this.playerOrder = [];
                this.availableIngredients = [];
                this.gameState = 'playing';
                this.score = 0;
                this.attempts = 0;

                this.initializeElements();
                this.bindEvents();
                this.startNewGame();
            }

            initializeElements() {
                this.scoreElement = document.getElementById('score');
                this.attemptsElement = document.getElementById('attempts');
                this.currentBurgerElement = document.getElementById('currentBurger');
                this.gameStatusElement = document.getElementById('gameStatus');
                this.constructionAreaElement = document.getElementById('constructionArea');
                this.availableIngredientsElement = document.getElementById('availableIngredients');
                this.resetButton = document.getElementById('resetButton');
                this.newGameButton = document.getElementById('newGameButton');
            }

            bindEvents() {
                this.resetButton.addEventListener('click', () => this.resetCurrentGame());
                this.newGameButton.addEventListener('click', () => this.startNewGame());
            }

            startNewGame() {
                const burgerNames = Object.keys(this.burgers);
                const randomBurger = burgerNames[Math.floor(Math.random() * burgerNames.length)];
                const ingredients = this.burgers[randomBurger];

                this.currentBurger = randomBurger;
                this.correctOrder = [...ingredients];
                this.playerOrder = [];
                this.availableIngredients = [...ingredients].sort(() => Math.random() - 0.5);
                this.gameState = 'playing';

                this.updateDisplay();
            }

            addIngredient(ingredient, index) {
                if (this.gameState !== 'playing') return;

                this.playerOrder.push(ingredient);
                this.availableIngredients.splice(index, 1);
                this.updateDisplay();
                this.checkIfComplete();
            }

            removeIngredient(index) {
                if (this.gameState !== 'playing') return;

                const removedIngredient = this.playerOrder[index];
                this.playerOrder.splice(index, 1);
                this.availableIngredients.push(removedIngredient);
                this.updateDisplay();
            }

            checkIfComplete() {
                if (this.playerOrder.length === this.correctOrder.length) {
                    this.checkAnswer();
                }
            }

            checkAnswer() {
                const isCorrect = this.playerOrder.every((ingredient, index) => 
                    ingredient === this.correctOrder[index]
                );

                this.attempts++;
                
                if (isCorrect) {
                    this.gameState = 'correct';
                    this.score++;
                } else {
                    this.gameState = 'wrong';
                }

                this.updateDisplay();
            }

            resetCurrentGame() {
                this.playerOrder = [];
                this.availableIngredients = [...this.correctOrder].sort(() => Math.random() - 0.5);
                this.gameState = 'playing';
                this.updateDisplay();
            }

            getIngredientClass(ingredient) {
                const ingredientLower = ingredient.toLowerCase();
                
                if (ingredientLower.includes('pan')) return 'pan';
                if (ingredientLower.includes('queso')) return 'queso';
                if (ingredientLower.includes('carne')) return 'carne';
                if (ingredientLower.includes('lechuga')) return 'lechuga';
                if (ingredientLower.includes('tomate')) return 'tomate';
                if (ingredientLower.includes('tocino')) return 'tocino';
                if (ingredientLower.includes('pepinillo')) return 'pepinillos';
                if (ingredientLower.includes('cebolla')) return 'cebolla';
                if (ingredientLower.includes('mayo')) return 'mayo';
                if (ingredientLower.includes('ketchup')) return 'ketchup';
                if (ingredientLower.includes('mostaza')) return 'mostaza';
                if (ingredientLower.includes('salsa')) return 'salsa';
                
                return 'salsa'; // default
            }

            updateDisplay() {
                // Update score
                this.scoreElement.textContent = this.score;
                this.attemptsElement.textContent = this.attempts;
                this.currentBurgerElement.textContent = this.currentBurger;

                // Update game status
                this.updateGameStatus();

                // Update construction area
                this.updateConstructionArea();

                // Update available ingredients
                this.updateAvailableIngredients();

                // Update button states
                this.resetButton.disabled = this.gameState !== 'playing' && this.playerOrder.length === 0;
            }

            updateGameStatus() {
                if (this.gameState === 'correct') {
                    this.gameStatusElement.innerHTML = `
                        <div class="status correct">
                            <span class="status-icon">‚úÖ</span>
                            <div>
                                <p style="font-weight: bold;">¬°Perfecto! üéâ</p>
                                <p style="font-size: 12px;">Orden correcto</p>
                            </div>
                        </div>
                    `;
                    this.gameStatusElement.style.display = 'block';
                } else if (this.gameState === 'wrong') {
                    this.gameStatusElement.innerHTML = `
                        <div class="status wrong">
                            <span class="status-icon">‚ùå</span>
                            <div>
                                <p style="font-weight: bold; margin-bottom: 5px;">¬°Ups! Int√©ntalo de nuevo</p>
                                <div style="font-size: 11px;">
                                    <p><strong>Tu orden:</strong> ${this.playerOrder.join(' ‚Üí ')}</p>
                                    <p><strong>Correcto:</strong> ${this.correctOrder.join(' ‚Üí ')}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    this.gameStatusElement.style.display = 'block';
                } else {
                    this.gameStatusElement.style.display = 'none';
                }
            }

            updateConstructionArea() {
                if (this.playerOrder.length === 0) {
                    this.constructionAreaElement.innerHTML = '<p class="empty-construction">Toca los ingredientes para agregar</p>';
                } else {
                    this.constructionAreaElement.innerHTML = this.playerOrder.map((ingredient, index) => 
                        `<button class="ingredient-button ${this.getIngredientClass(ingredient)}" onclick="game.removeIngredient(${index})" ${this.gameState !== 'playing' ? 'disabled' : ''}>
                            ${ingredient}
                        </button>`
                    ).join('');
                }
            }

            updateAvailableIngredients() {
                this.availableIngredientsElement.innerHTML = this.availableIngredients.map((ingredient, index) => 
                    `<button class="ingredient-button ${this.getIngredientClass(ingredient)}" onclick="game.addIngredient('${ingredient}', ${index})" ${this.gameState !== 'playing' ? 'disabled' : ''}>
                        ${ingredient}
                    </button>`
                ).join('');
            }
        }

        // Initialize game when page loads
        let game;
        document.addEventListener('DOMContentLoaded', () => {
            game = new BurgerGame();
        });
    </script>
</body>
</html>
